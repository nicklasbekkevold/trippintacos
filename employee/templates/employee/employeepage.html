{% extends 'base.html' %}

{% block head %}
  {% load bootstrap4 %}       {# import bootstrap4/bootstrap3 #}
  {% bootstrap_css %}         {# Embed Bootstrap CSS #}
  {% bootstrap_javascript jquery='full' %}  {# Embed Bootstrap JS+jQuery #}
  {{ form.media }}            {# Adds date-picker required JS and CSS #}
{% endblock %}

{% block content %}
    <div class="container" style="margin-top: 120px">
      <div class="row">
        <div class="container col-12">
          <form>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Søk etter reservasjon">
              <div class="input-group-btn">
                <button class="btn btn-default btn-primary" type="submit">Søk</button>
              </div>
            </div>
          </form>
        </div>
        <div class="container" style="margin-top: 100px">
          <div class="row align-items-center">
            <div class="col-4">
              <form id="showRes" method="post">
                  {% csrf_token %}
                  {% bootstrap_form form %}
                  <button id="showResBtn" type="submit" class="submitBtn" name="showRes" value="showRes">Show</button>
              </form>
            </div>
            <div class="col-3">
                <a href="#" class="btn btn-primary active rounded-right" role="button" aria-pressed="true">Lag reservasjon</a>
                <a href="#" class="btn btn-secondary active" role="button" aria-pressed="true">Walk-in</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="margin-top: 20px">
      <table class="table table-hover table-responsive">
        <thead>
          <tr>
            <th style="width: 5%; color: white">Bordnummer</th>
            {% for t in time_range %}
              <th style="width: 3.65%">{{t}}:00</th>
              <th style="width: 3.65%; color: white">{{t}}:30</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for table in reservations %}
            <tr>
              <th>{{ table.table }}</th>
              {% for reservation in table.reservations %}
                {% if reservation.walkin %}
                  <td colspan="4" class="rounded-pill align-middle" style="background-color: #ff4507">
                    <h6>{{ reservation.guest.email }} ({{ reservation.number_of_people }})</h6>
                  </td>
                {% else %}
                  <td colspan="4" class="rounded-pill align-middle" style="background-color: #45ff07">
                    <h6>{{ reservation.guest.email }} ({{ reservation.number_of_people }})</h6>
                  </td>
                {% endif %}
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
{% endblock content %}